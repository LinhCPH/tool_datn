#!/bin/bash


BLUE='\033[0;34m'
NC='\033[0m'
target=0

# Tên tệp lưu kết quả
result_file_wes="pe_pentesting.txt"

declare -A choices

choices[1]="AD CS (Active Directory Certificate Services) Pentesting"
choices[2]="Active Directory Pentesting"
choices[3]="DACL (Discretionary Access Control List) Attack"
choices[4]="Kerberoasting Attack"
choices[5]="Kerberos Pentesting"
choices[6]="LAPS (Local Administrator Password Solution) Pentesting"
choices[7]="LDAP (Lightweight Directory Access Protocol) Pentesting"
choices[8]="NTLM (New Technology LAN Manager) Pentesting"
choices[9]="Netlogon Elavasion of Privilege"
choices[10]="SMB (Server Message Block) Pentesting"

x[1]=false
x[2]=false
x[3]=false
x[4]=false
x[4]=false
x[5]=false
x[6]=false
x[7]=false
x[8]=false
x[9]=false
x[10]=false


# Hàm cho mỗi công việc
function job10() {
    echo "-----------------------------M365 (Microsoft Office 365) Pentesting------------------------------------"
    
    echo "-----------------------------M365 (Microsoft Office 365) Pentesting------------------------------------"
}

function job9() {
    echo "Executing Job 9"
}

function job8() {
    echo "Executing Job 7"
}

function job7() {
    echo "Executing Job 7"
}

function job6() {
    echo "Executing Job 6"
}

function job5() {
    echo "Executing Job 5"
}

function job4() {
    echo "Executing Job 4"
}

function job3() {
    echo "Executing Job 3"
}

function job2() {
    echo "Executing Job 2"
}

function job1() {
    echo "Executing Job 1"
}




#----------------------------CHON CHUC NANG -------------------------------------
optionPE(){
   		echo   "-----------------------------------------------------------------------"
   		echo "|                                                                    	|"
   		echo "|										|" 
   		echo "|                       ACTIVE DIRECTORY PENTESTING			|"
   		echo "|										|"
		echo "|										|"
   		echo   "-----------------------------------------------------------------------"
		echo ""
		echo ""
	  }


#----------------------------CHON CHUC NANG-------------------------------------
if [ "$target" = "0" ]; then
       echo -n "Nhap IP muc tieu [IP hoac domain]: "
       read target
    fi

	clear
	optionPE
	echo "Lua chon cac tinh nang can kiem tra."
	# Duyệt qua tất cả các công việc
	for i in "${!choices[@]}"; do

	    valid_choice=false
	    
	    while [ "$valid_choice" = false ]; do
		read -p "Bạn muốn kiểm tra '${choices[$i]}' không? (Y/N): " choice
		choice=$(echo "$choice" | tr '[:upper:]' '[:lower:]')
		
		case "$choice" in
		    [y])
		        echo "Executing '${choices[$i]}'"
		        x[$i]=true
		        valid_choice=true
		        ;;
		    [n])
		        valid_choice=true
		        ;;
		    *)
		        echo "Giá trị không hợp lệ. Chỉ nhập Y hoặc N."
		        ;;
		esac
	    done
	done


for i in "${!x[@]}"; do
    if [ "${x[$i]}" = true ]; then
        eval "job$i"
    fi
done
